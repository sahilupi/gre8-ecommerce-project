<article class="product__card">
  <div class="product__card--thumbnail">
    <a class="product__card--thumbnail__link display-block" [routerLink]="'/products/' + product._id">
      <img class="product__card--thumbnail__img product__primary--img img-product"
        [src]="product.image"
        [alt]="product.name">
      <img *ngIf="product.images && product.images.length>0"
      class="product__card--thumbnail__img product__secondary--img"
      [src]="product.images[0].imageUrls[0]"
      [alt]="product.name">
    </a>
      <div class="product__add--to__card">
        <a class="product__card--btn" [routerLink]="'/products/'+product._id" title="View Product"> View Product
          <svg width="17" height="15" viewBox="0 0 14 11"
            fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13.2371 4H11.5261L8.5027
              0.460938C8.29176 0.226562 7.9402 0.203125
              7.70582 0.390625C7.47145 0.601562 7.44801
              0.953125 7.63551 1.1875L10.0496
              4H3.46364L5.8777 1.1875C6.0652 0.953125
              6.04176 0.601562 5.80739 0.390625C5.57301
              0.203125 5.22145 0.226562 5.01051
              0.460938L1.98707 4H0.299574C0.135511 4
              0.0183239 4.14062 0.0183239
              4.28125V4.84375C0.0183239 5.00781 0.135511
              5.125 0.299574 5.125H0.721449L1.3777
              9.78906C1.44801 10.3516 1.91676 10.75 2.47926
              10.75H11.0339C11.5964 10.75 12.0652 10.3516
              12.1355 9.78906L12.7918 5.125H13.2371C13.3777
              5.125 13.5183 5.00781 13.5183
              4.84375V4.28125C13.5183 4.14062 13.3777 4
              13.2371 4ZM11.0339 9.625H2.47926L1.86989
              5.125H11.6433L11.0339 9.625ZM7.33082
              6.4375C7.33082 6.13281 7.07301 5.875 6.76832
              5.875C6.4402 5.875 6.20582 6.13281 6.20582
              6.4375V8.3125C6.20582 8.64062 6.4402 8.875
              6.76832 8.875C7.07301 8.875 7.33082 8.64062
              7.33082 8.3125V6.4375ZM9.95582 6.4375C9.95582
              6.13281 9.69801 5.875 9.39332 5.875C9.0652
              5.875 8.83082 6.13281 8.83082
              6.4375V8.3125C8.83082 8.64062 9.0652 8.875
              9.39332 8.875C9.69801 8.875 9.95582 8.64062
              9.95582 8.3125V6.4375ZM4.70582 6.4375C4.70582
              6.13281 4.44801 5.875 4.14332 5.875C3.8152
              5.875 3.58082 6.13281 3.58082
              6.4375V8.3125C3.58082 8.64062 3.8152 8.875
              4.14332 8.875C4.44801 8.875 4.70582 8.64062
              4.70582 8.3125V6.4375Z" fill="currentColor"/>
            </svg>
        </a>
      </div>
    </div>
    <div class="product__card--content text-center">
      <!-- <ul class="rating product__card--rating d-flex justify-content-center" *ngIf="product.numReviews >= 1">
        <li class="rating__list" *ngFor="let rating of numSequence(product.rating)">
          <span class="rating__icon">
            <svg width="14" height="13" viewBox="0 0 14
              13" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path d="M6.08398 0.921875L4.56055
                4.03906L1.11523 4.53125C0.505859 4.625
                0.271484 5.375 0.716797 5.82031L3.17773
                8.23438L2.5918 11.6328C2.49805 12.2422
                3.1543 12.7109 3.69336 12.4297L6.76367
                10.8125L9.81055 12.4297C10.3496 12.7109
                11.0059 12.2422 10.9121 11.6328L10.3262
                8.23438L12.7871 5.82031C13.2324 5.375
                12.998 4.625 12.3887 4.53125L8.9668
                4.03906L7.41992 0.921875C7.16211 0.382812
                6.36523 0.359375 6.08398 0.921875Z"
                fill="currentColor"/>
            </svg>
          </span>
        </li>
        <li class="rating__list" *ngFor="let rating of numSequence(ratings - product.rating)">
            <span class="rating__icon">
              <svg width="14" height="13" viewBox="0
                0 14 13" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path d="M12.4141 4.53125L8.99219
                  4.03906L7.44531 0.921875C7.1875
                  0.382812 6.39062 0.359375 6.10938
                  0.921875L4.58594 4.03906L1.14062
                  4.53125C0.53125 4.625 0.296875
                  5.375 0.742188 5.82031L3.20312
                  8.23438L2.61719 11.6328C2.52344
                  12.2422 3.17969 12.7109 3.71875
                  12.4297L6.78906 10.8125L9.83594
                  12.4297C10.375 12.7109 11.0312
                  12.2422 10.9375 11.6328L10.3516
                  8.23438L12.8125 5.82031C13.2578
                  5.375 13.0234 4.625 12.4141
                  4.53125ZM9.53125 7.95312L10.1875
                  11.75L6.78906 9.96875L3.36719
                  11.75L4.02344 7.95312L1.25781
                  5.28125L5.07812 4.71875L6.78906
                  1.25L8.47656 4.71875L12.2969
                  5.28125L9.53125 7.95312Z"
                  fill="currentColor"/>
                </svg>
              </span>
        </li>
        <li>
          <span class="rating__review--text">({{product.numReviews}})
            {{ product.numReviews > 1 ? 'Reviews': 'Review' }}</span>
        </li>
      </ul>
      <span class="rating__review--text" *ngIf="product.numReviews < 1">
        No reviews</span> -->

          <h3 class="product__card--title" style="margin-bottom: 0;">
            <a style="text-transform: capitalize; font-weight: bold;">{{product.categories[product.categories.length - 1]}}</a>
          </h3>
          <h3 class="product__card--title">
            <a [routerLink]="'/products/'+ product._id">{{product.name}}</a>
          </h3>
          <div class="product__card--price">
            <span class="current__price">{{product.currentPrice | currency: product.currency}}</span>
            <span class="old__price"> {{product.mrpPrice | currency: product.currency}}</span>
            <span class="discount_badge" *ngIf="+product.mrpPrice > +product.currentPrice && +(100 - (+product.currentPrice* 100)/+product.mrpPrice).toFixed(0) > 0"> {{(100 - (+product.currentPrice* 100)/+product.mrpPrice).toFixed(0) }}% off</span>
          </div>
    </div>
</article>

<app-loading-spinner *ngIf="isLoading"></app-loading-spinner>

<app-snackbar [name]="product.name" [isShown]="isSnackbarShown" *ngIf="isToAddSnackbar && product"></app-snackbar>

